---
title: Vim快速入门
date: 2020-02-24 00:43:58
categories:
tags:
---


Vim 是一款多模式文本编辑器，主要有以下四种模式

## 正常模式（Normal-mode）

```bash
# 进入正常模式
$ vim + enter
```

按大小写I,i,O,o,A,a皆可进入插入模式。但是光标位置会有区别。

 - 如果是i, 则光标没有移动
 - 如果是shift+i,则光标移到改行首位
 - 如果是a,则光标移动到下一位
 - 如果是shift+a,则光标移动到改行末尾
 - 如果是o,则光标移到下一行，并生成一空行
 - 如果是shift+o,则光标移到上一行，并生成一空行


##### 移动
按住键盘的 H,J,K,L 可以在正常模式下进行光标的左右上下移动。

##### 复制张贴
- `yy + p`，复制光标所在行，然后粘贴到光标所在行；
- `n + yy + p`,复制光标以下n行，然后粘贴到光标所在行，复制时会提示复制行数；
- `y$ + p`,复制光标到行尾数据，然后粘贴到光标所在行；
- `dd + p`，剪切光标所在行，然后粘贴到光标所在行；
- `n + dd + p`,剪切光标以下n行，然后粘贴到光标所在行，复制时会提示复制行数；
- `d$ + p`,剪切光标到行尾数据，然后粘贴到光标所在行；

##### 撤销替换删除
- `u`,撤销上一步操作，可以多次操作连续撤销；
- `ctrl + r`,取消撤销命令，与撤销命令相反；
- `x`,删除光标所在字符；
- `r`,下一个输入替换所在字符；

##### 跳转
- `:set nu`,显示行号；
- `:set nonu`,不显示行号；
- `n + shift + g`,跳转到底n行；
- `gg`,跳转到首行；
- `shift + g`,跳转到末行；
- `^`,跳转到行头；
- `$`,跳转到行尾；


## 插入模式（Insert-mode)

##### 退出与保存
- `:q, :q!`,不保存退出；
- `:wq`,保存退出；
- `:w /path/to/save`,保存到某一文件；
- `:! + cmd`,在不退出情况下执行其他命令，按enter退出回到编辑器环境；


## 命令模式（Command-mode）

##### 显示
- `set nohlsearch`, 隐藏高亮效果；

##### 查找替换
- `/xxx + enter`,查找匹配xxx的字符，按n跳转到下一个匹配字符，按shift+n跳转到上一个匹配项；
- `:s/old/new + enter`,替换光标所在行第一个匹配项； 
- `:s/old/new/g + enter`,替换光标所在行所有匹配项； 
- `:%s/old/new + enter`,替换所有行第一个匹配项； 
- `:%s/old/new/g + enter`,替换所有行所有匹配项； 
- `:3,5s/old/new + enter`,替换第三到第五行第一个匹配项； 
- `:3,5s/old/new/g + enter`,替换第三到第五行所有匹配项； 

## 可视模式（Visual-mode）

正常模式下按v进入可视模式；
按`shift+v`进入块可视模式；


## 永久设置
在编辑器环境下例如行号显示之类的设置是暂时的，关闭编辑器后会失效，如果需要永久起效需要设置`/etc/vimrc`文件；
